<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>FlapEmu</title>
    <link rel="stylesheet" href="style.css" id="main-style">
    <script>
        // Cache-busting for AI agents and developers
        (function() {
            const params = new URLSearchParams(window.location.search);
            if (params.has('nocache') || params.has('dev')) {
                const timestamp = Date.now();
                const style = document.getElementById('main-style');
                style.href = style.href.split('?')[0] + '?v=' + timestamp;
                console.log('[System] Cache-busting active (CSS)');
            }
        })();
    </script>
</head>
<body>

    <div class="top-bar">
        <div class="header-title" id="line-name-left"></div>
    </div>

    <div class="schedule-board" id="board">
        <!-- Header -->
        <div class="header-row">
            <div class="col-plat header-item"><span>のりば</span><span>Track</span></div>
            <div class="col-type header-item"><span>種別</span><span>Type</span></div>
            <div class="col-no header-item"><span>列車番号</span><span>Train No.</span></div>
            <div class="col-time header-item"><span>時刻</span><span>Time</span></div>
            <div class="col-dest header-item"><span>行先</span><span>Dest.</span></div>
            <div class="col-remarks header-item"><span>記事</span><span>Remarks</span></div>
            <div class="col-stop header-item"><span>停車駅</span><span>Train Stops</span></div>
        </div>
        <div id="board-rows">
            <!-- train-group will be inserted here by JS -->
        </div>
    </div>
    <div class="board-footer">
        <div class="disclaimer">
            SIMULATION ONLY. DATA ACCURACY NOT GUARANTEED. NOT FOR ACTUAL TRAVEL.
        </div>
        <div class="copyright">
            Powered by <a href="https://github.com/tyoubin/flapemu" target="_blank">FlapEmu</a>
        </div>
    </div>
    <script>
        (function() {
            const params = new URLSearchParams(window.location.search);
            const script = document.createElement('script');
            let src = 'script.js';
            if (params.has('nocache') || params.has('dev')) {
                src += '?v=' + Date.now();
                console.log('[System] Cache-busting active (JS)');
            }
            script.src = src;
            document.body.appendChild(script);
        })();
    </script>
</body>
</html>
